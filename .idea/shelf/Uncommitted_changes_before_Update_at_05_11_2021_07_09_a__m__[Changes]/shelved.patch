Index: Views/nav.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\nrequire_once(VIEWS_PATH . \"header.php\");\r\n?>\r\n<script>\r\n    document.addEventListener('DOMContentLoaded', function () {\r\n        var elems = document.querySelectorAll('.sidenav');\r\n        var instances = M.Sidenav.init(elems);\r\n    });\r\n    $(document).ready(function () {\r\n        $('#modal1').modal('toggle')\r\n    });\r\n    // Initialize collapsible (uncomment the lines below if you use the dropdown variation)\r\n    // var collapsibleElem = document.querySelector('.collapsible');\r\n    // var collapsibleInstance = M.Collapsible.init(collapsibleElem, options);\r\n\r\n    // Or with jQuery\r\n\r\n    $(document).ready(function () {\r\n        $('.sidenav').sidenav();\r\n    });\r\n</script>\r\n\r\n<ul id=\"slide-out\" class=\"sidenav grey darken-1\">\r\n\r\n\r\n    <?php\r\n    if (isset($_SESSION['loggedUser'])) {\r\n        $userLogged = $_SESSION['loggedUser'];\r\n    }\r\n    if (!isset($userLogged)) {\r\n        ?>\r\n        <script>\r\n            document.addEventListener('DOMContentLoaded', function () {\r\n                var elems = document.querySelectorAll('.modal');\r\n                var instances = M.Modal.init(elems);\r\n            });\r\n\r\n        </script>\r\n    <br>\r\n        <!-- Botones sin session -->\r\n        <ul class=\"center-align  \">\r\n            <!-- Registrarse -->\r\n            <li><a class=\"waves-effect waves-light btn modal-trigger pink-text text-accent-3 black\" href=\"#modal1\">Registrarse</i></a>\r\n            </li>\r\n            <!-- Loguearse -->\r\n            <li><a class=\"waves-effect waves-light btn  modal-trigger pink-text text-accent-3 black\" href=\"#modal2\" ?>Iniciar\r\n                    sesion</i></a></li>\r\n\r\n        </ul>\r\n\r\n\r\n    <?php\r\n    } else {\r\n    if ($userLogged != 'admin'){\r\n    ?>\r\n\r\n        <div class='user-view '>\r\n            <span class=\"background \"><img src=\"https://wallpapercave.com/wp/wp2607892.jpg\" alt=\"\"></span>\r\n            <span class=\"name  grey-text text-lighten-5\"><strong><h4><?= $userLogged->getFirstName(); ?> <?= $userLogged->getLastName(); ?></h4></strong></span>\r\n            <span class=\"Email grey-text text-lighten-5\"><strong><h6><?= $userLogged->getEmail(); ?></h6></strong></span>\r\n\r\n            <span class=\"caree grey-text text-lighten-5\"><strong>Carrera: <?= $userLogged->getCareer()->getDescription(); ?></strong></span>\r\n            <br>\r\n            <span class=\"dn grey-text text-lighten-5\"><strong>DNI: <?= \"******\" . substr($userLogged->getDni(), 7, 10) ?></strong></span>\r\n            <br>\r\n            <span class=\"Email grey-text text-lighten-5\"><strong><?= $userLogged->getPhoneNumber(); ?></strong></span>\r\n\r\n        </div>\r\n        <?php\r\n    }\r\n        ?>\r\n    <br>\r\n        <ul class=\"center-align\">\r\n            <li><a class=\"waves-effect waves-light btn modal-trigger pink-text text-accent-3 black\"\r\n                   href=\"<?= FRONT_ROOT . \"Home/logout\" ?>\">cerrar sesion</i></a></li>\r\n        </ul>\r\n\r\n\r\n        <?php\r\n    }\r\n\r\n    ?>\r\n</ul>\r\n<div class=\"left-align  grey darken-4 \">\r\n    <a href=\"#\" data-target=\"slide-out\" class=\"sidenav-trigger \"><i\r\n                class=\"small  material-icons blue-grey-text text-lighten-5 \">menu</i></a>\r\n</div>\r\n\r\n\r\n<div id=\"modal2\" class=\"modal\">\r\n    <div class=\"modal-content \">\r\n        <form action=\"<?= FRONT_ROOT . \"StudentMagnament/login\" ?>\" method=\"POST\">\r\n            <div class=\"input-field col s6\">\r\n                <input id=\"email\" name=\"email\" type=\"text\" class=\"validate\">\r\n                <label for=\"email\">Nombre de Usuario</label>\r\n            </div>\r\n            <div class=\"input-field col s6\">\r\n                <input id=\"password\" name=\"password\" type=\"password\" class=\"validate\">\r\n                <label for=\"password\">Contraseña</label>\r\n            </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <button type=\"submit\" class=\"modal-close waves-effect waves-green btn-flat\">Iniciar sesion</button>\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n\r\n<!-- Ventana de registro -->\r\n<div id=\"modal1\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n        <div class=\"row\">\r\n\r\n            <div id=\"msg\"></div>\r\n\r\n\r\n            <div id=\"error\" style=\"display: none;\" class=\"card-panel   red\" role=\"alert\">\r\n                Las Contraseñas no coinciden, vuelve a intentar !\r\n            </div>\r\n            <div id=\"ok\" style=\"display: none;\" class=\"card-panel  green\" role=\"alert\">\r\n                Las Contraseñas coinciden\r\n            </div>\r\n\r\n            <form action=\"<?=FRONT_ROOT.\"home/register\"?>\" method=\"post\" id=\"miformulario\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"usuario\">Email</label>\r\n                    <input type=\"text\" value=\"\" placeholder=\"Example@gmail.com\" name=\"email\" class=\"form-control\" id=\"Email\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"pass1\">Contraseña</label>\r\n                    <input type=\"password\" value=\"\" placeholder=\"123456\" onchange=\"verificarPasswords(); return false\" class=\"form-control\" id=\"pass1\"\r\n                           required>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"pass2\">Vuelve a escribir la Contraseña</label>\r\n                    <input type=\"password\" name=\"pass2\" placeholder=\"123456\" value=\"\" onchange=\"verificarPasswords(); return false\" class=\"form-control\" id=\"pass2\"\r\n                           required>\r\n                </div>\r\n\r\n                <button type=\"submit\" id=\"login\" class=\"btn btn-primary\">Registrarse</button>\r\n            </form>\r\n\r\n            <script>\r\n                function verificarPasswords() {\r\n\r\n                    // Ontenemos los valores de los campos de contraseñas\r\n                    pass1 = document.getElementById('pass1');\r\n                    pass2 = document.getElementById('pass2');\r\n                    if (Boolean(pass2)) {\r\n                        if (pass1.value != pass2.value) {\r\n                            document.getElementById(\"error\").style.display = \"block\";\r\n                            document.getElementById(\"ok\").style.display = 'none';\r\n                            document.getElementsById(\"Login\").style.display=\"none\";\r\n\r\n\r\n                        } else {\r\n                            document.getElementById(\"error\").style.display = \"none\";\r\n                            document.getElementById(\"ok\").style.display = 'block';\r\n                            document.getElementsById(\"Login\").style.display=\"block\";\r\n                            document.getElementById(\"login\").type = 'submit';\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n            </script>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Views/nav.php b/Views/nav.php
--- a/Views/nav.php	
+++ b/Views/nav.php	
@@ -9,11 +9,6 @@
     $(document).ready(function () {
         $('#modal1').modal('toggle')
     });
-    // Initialize collapsible (uncomment the lines below if you use the dropdown variation)
-    // var collapsibleElem = document.querySelector('.collapsible');
-    // var collapsibleInstance = M.Collapsible.init(collapsibleElem, options);
-
-    // Or with jQuery
 
     $(document).ready(function () {
         $('.sidenav').sidenav();
@@ -39,7 +34,7 @@
     <br>
         <!-- Botones sin session -->
         <ul class="center-align  ">
-            <!-- Registrarse -->
+        <!-- Registrarse -->
             <li><a class="waves-effect waves-light btn modal-trigger pink-text text-accent-3 black" href="#modal1">Registrarse</i></a>
             </li>
             <!-- Loguearse -->
@@ -53,7 +48,6 @@
     } else {
     if ($userLogged != 'admin'){
     ?>
-
         <div class='user-view '>
             <span class="background "><img src="https://wallpapercave.com/wp/wp2607892.jpg" alt=""></span>
             <span class="name  grey-text text-lighten-5"><strong><h4><?= $userLogged->getFirstName(); ?> <?= $userLogged->getLastName(); ?></h4></strong></span>
@@ -88,21 +82,23 @@
 
 
 <div id="modal2" class="modal">
-    <div class="modal-content ">
-        <form action="<?= FRONT_ROOT . "StudentMagnament/login" ?>" method="POST">
+    <form action="<?= FRONT_ROOT . "StudentMagnament/login" ?>" method="POST">
+    <div class="modal-content ">
+
             <div class="input-field col s6">
-                <input id="email" name="email" type="text" class="validate">
+                <input id="email" name="email" type="text" class="validate" required>
                 <label for="email">Nombre de Usuario</label>
             </div>
             <div class="input-field col s6">
-                <input id="password" name="password" type="password" class="validate">
+                <input id="password" name="password" type="password" class="validate" required>
                 <label for="password">Contraseña</label>
             </div>
     </div>
     <div class="modal-footer">
         <button type="submit" class="modal-close waves-effect waves-green btn-flat">Iniciar sesion</button>
-        </form>
+
     </div>
+    </form>
 </div>
 
 
@@ -124,7 +120,7 @@
             <form action="<?=FRONT_ROOT."home/register"?>" method="post" id="miformulario">
                 <div class="form-group">
                     <label for="usuario">Email</label>
-                    <input type="text" value="" placeholder="Example@gmail.com" name="email" class="form-control" id="Email">
+                    <input type="text" value="" placeholder="Example@gmail.com" name="email" class="form-control" id="Email" required>
                 </div>
                 <div class="form-group">
                     <label for="pass1">Contraseña</label>
@@ -152,6 +148,8 @@
                             document.getElementById("ok").style.display = 'none';
                             document.getElementsById("Login").style.display="none";
 
+                            document.getElementById("Login").style.visibility = "hidden";
+
 
                         } else {
                             document.getElementById("error").style.display = "none";
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"7c5d23fb-c3b3-4585-af16-20b66ae5283b\" name=\"Changes\" comment=\"alta de usuario func\">\r\n      <change afterPath=\"$PROJECT_DIR$/Uploads/Wlorant CV.doc\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_19_12__Changes_.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_19_12__Changes_.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_19_27__Changes_.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_19_27__Changes_.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_2_11_2021_18_13__Changes_.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_2_11_2021_18_13__Changes_.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_2_11_2021_21_21__Changes_.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_2_11_2021_21_21__Changes_.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Config/schema.sql\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Config/schema.sql\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/DAO/CompanyDAO.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/DAO/CompanyDAO.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Views/Admin/list-jobOffer.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Views/Admin/list-jobOffer.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Views/Student/list-appointment.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Views/Student/list-appointment.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/Views/Student/list-company.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/Views/Student/list-company.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/controllers/AdminController.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/controllers/AdminController.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/controllers/StudentMagnamentController.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/controllers/StudentMagnamentController.php\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\">\r\n    <execution />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"package.json\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Merge.Settings\">\r\n    <option name=\"BRANCH\" value=\"origin/Company_Rework\" />\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"master\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n    <option name=\"UPDATE_TYPE\" value=\"REBASE\" />\r\n  </component>\r\n  <component name=\"GitSEFilterConfiguration\">\r\n    <file-type-list>\r\n      <filtered-out-file-type name=\"LOCAL_BRANCH\" />\r\n      <filtered-out-file-type name=\"REMOTE_BRANCH\" />\r\n      <filtered-out-file-type name=\"TAG\" />\r\n      <filtered-out-file-type name=\"COMMIT_BY_MESSAGE\" />\r\n    </file-type-list>\r\n  </component>\r\n  <component name=\"PhpServers\">\r\n    <servers>\r\n      <server host=\"localhost\" id=\"89238300-6afb-4702-8f9b-4e92013b23c9\" name=\"server\" />\r\n    </servers>\r\n  </component>\r\n  <component name=\"PhpWorkspaceProjectConfiguration\" interpreter_name=\"PHP 7.0\">\r\n    <include_path>\r\n      <path value=\"$PROJECT_DIR$\" />\r\n    </include_path>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1zjzUcjZwn3ON4yMf0Efo2pRmbn\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"DatabaseDriversLRU\" value=\"mysql\" />\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"ToolWindowStructure.ShowToolbar\" value=\"false\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$/Data\" />\r\n    <property name=\"node.js.detected.package.eslint\" value=\"true\" />\r\n    <property name=\"node.js.detected.package.tslint\" value=\"true\" />\r\n    <property name=\"node.js.selected.package.eslint\" value=\"(autodetect)\" />\r\n    <property name=\"node.js.selected.package.tslint\" value=\"(autodetect)\" />\r\n    <property name=\"nodejs_package_manager_path\" value=\"npm\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"preferences.lookFeel\" />\r\n    <property name=\"vue.rearranger.settings.migration\" value=\"true\" />\r\n  </component>\r\n  <component name=\"ReaderModeSettings\">\r\n    <option name=\"enabled\" value=\"false\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\xampp\\htdocs\\TPFinal\\Data\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\xampp\\htdocs\\TPFinal\\DAO\" />\r\n      <recent name=\"C:\\xampp\\htdocs\\TPFinal\\Views\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\" selected=\"PHP Web Page.Unnamed\">\r\n    <configuration name=\"Server\" type=\"PhpBuiltInWebServerConfigurationType\" factoryName=\"PHP Built-in Web Server\" document_root=\"$PROJECT_DIR$\">\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <configuration name=\"server\" type=\"PhpLocalRunConfigurationType\" factoryName=\"PHP Console\" temporary=\"true\" path=\"$PROJECT_DIR$/index.php\">\r\n      <method v=\"2\">\r\n        <option name=\"LaunchBrowser.Before.Run\" url=\"localhost/tpFinal\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"Unnamed\" type=\"PhpWebAppRunConfigurationType\" factoryName=\"PHP Web Application\" nameIsGenerated=\"true\" server_name=\"server\" start_url=\"/TPFinal/\">\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <list>\r\n      <item itemvalue=\"PHP Built-in Web Server.Server\" />\r\n      <item itemvalue=\"PHP Script.server\" />\r\n      <item itemvalue=\"PHP Web Page.Unnamed\" />\r\n    </list>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"PHP Script.server\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"7c5d23fb-c3b3-4585-af16-20b66ae5283b\" name=\"Changes\" comment=\"alta de usuario func\" />\r\n      <created>1634676306149</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1634676306149</updated>\r\n      <workItem from=\"1634676312599\" duration=\"2262000\" />\r\n      <workItem from=\"1634678973774\" duration=\"917000\" />\r\n      <workItem from=\"1634681773011\" duration=\"765000\" />\r\n      <workItem from=\"1634682662809\" duration=\"2860000\" />\r\n      <workItem from=\"1634722386990\" duration=\"4797000\" />\r\n      <workItem from=\"1634756194686\" duration=\"1935000\" />\r\n      <workItem from=\"1634762068916\" duration=\"6883000\" />\r\n      <workItem from=\"1634772977994\" duration=\"6481000\" />\r\n      <workItem from=\"1634843252418\" duration=\"16913000\" />\r\n      <workItem from=\"1634894549478\" duration=\"6200000\" />\r\n      <workItem from=\"1634924737916\" duration=\"824000\" />\r\n      <workItem from=\"1634933069755\" duration=\"6389000\" />\r\n      <workItem from=\"1634945005824\" duration=\"2152000\" />\r\n      <workItem from=\"1635153982531\" duration=\"2680000\" />\r\n      <workItem from=\"1635195981857\" duration=\"1443000\" />\r\n      <workItem from=\"1635240108630\" duration=\"5961000\" />\r\n      <workItem from=\"1635286310413\" duration=\"7684000\" />\r\n      <workItem from=\"1635326731325\" duration=\"1050000\" />\r\n      <workItem from=\"1635365920627\" duration=\"6605000\" />\r\n      <workItem from=\"1635412713125\" duration=\"4894000\" />\r\n      <workItem from=\"1635450204735\" duration=\"10295000\" />\r\n      <workItem from=\"1635499914288\" duration=\"2332000\" />\r\n      <workItem from=\"1635522971597\" duration=\"1796000\" />\r\n      <workItem from=\"1635533882915\" duration=\"4154000\" />\r\n      <workItem from=\"1635540433507\" duration=\"2627000\" />\r\n      <workItem from=\"1635543998052\" duration=\"3235000\" />\r\n      <workItem from=\"1635617094613\" duration=\"3597000\" />\r\n      <workItem from=\"1635632333832\" duration=\"1378000\" />\r\n      <workItem from=\"1635686069602\" duration=\"490000\" />\r\n      <workItem from=\"1635695393724\" duration=\"11000\" />\r\n      <workItem from=\"1635711442039\" duration=\"28000\" />\r\n      <workItem from=\"1635716704696\" duration=\"5434000\" />\r\n      <workItem from=\"1635758722901\" duration=\"4819000\" />\r\n      <workItem from=\"1635787833823\" duration=\"1539000\" />\r\n      <workItem from=\"1635794554742\" duration=\"654000\" />\r\n      <workItem from=\"1635800380517\" duration=\"3907000\" />\r\n      <workItem from=\"1635844872402\" duration=\"5741000\" />\r\n      <workItem from=\"1635948398605\" duration=\"13669000\" />\r\n      <workItem from=\"1636017644781\" duration=\"5852000\" />\r\n      <workItem from=\"1636047634535\" duration=\"3453000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"delete finished\">\r\n      <created>1634862406373</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1634862406373</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"menu modify 2.0\">\r\n      <created>1634900762277</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1634900762277</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"admin abm finished\">\r\n      <created>1634925536567</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1634925536567</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"seach company student\">\r\n      <created>1634935989723</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1634935989724</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"home pretty\">\r\n      <created>1634938934221</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1634938934225</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"job offer problem\">\r\n      <created>1635292926853</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635292926853</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"gracias dylan\">\r\n      <created>1635377514319</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635377514319</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"change framework\">\r\n      <created>1635453253331</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635453253331</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"login-register\">\r\n      <created>1635460785284</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635460785284</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"joboffer finished\">\r\n      <created>1635632586750</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635632586750</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"company dao fix\">\r\n      <created>1635722590179</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635722590180</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"company dao fix2\">\r\n      <created>1635723965373</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635723965373</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"company dao fix3\">\r\n      <created>1635788203498</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635788203498</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"alta de usuario func\">\r\n      <created>1635983068085</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1635983068085</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"apointment list in student\">\r\n      <created>1636020189407</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636020189407</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"pre entrega\">\r\n      <created>1636023449556</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636023449556</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"17\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State>\r\n              <option name=\"FILTERS\">\r\n                <map>\r\n                  <entry key=\"branch\">\r\n                    <value>\r\n                      <list>\r\n                        <option value=\"master\" />\r\n                      </list>\r\n                    </value>\r\n                  </entry>\r\n                </map>\r\n              </option>\r\n            </State>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"delete finished\" />\r\n    <MESSAGE value=\"menu modify 2.0\" />\r\n    <MESSAGE value=\"admin abm finished\" />\r\n    <MESSAGE value=\"seach company student\" />\r\n    <MESSAGE value=\"home pretty\" />\r\n    <MESSAGE value=\"job offer problem\" />\r\n    <MESSAGE value=\"gracias dylan\" />\r\n    <MESSAGE value=\"change framework\" />\r\n    <MESSAGE value=\"login-register\" />\r\n    <MESSAGE value=\"joboffer finished\" />\r\n    <MESSAGE value=\"company dao fix\" />\r\n    <MESSAGE value=\"company dao fix2\" />\r\n    <MESSAGE value=\"company dao fix3\" />\r\n    <MESSAGE value=\"alta de usuario func\" />\r\n    <MESSAGE value=\"apointment list in student\" />\r\n    <MESSAGE value=\"pre entrega\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"pre entrega\" />\r\n  </component>\r\n  <component name=\"XSLT-Support.FileAssociations.UIState\">\r\n    <expand />\r\n    <select />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	
+++ b/.idea/workspace.xml	
@@ -4,19 +4,11 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="7c5d23fb-c3b3-4585-af16-20b66ae5283b" name="Changes" comment="alta de usuario func">
-      <change afterPath="$PROJECT_DIR$/Uploads/Wlorant CV.doc" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_19_12__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_19_12__Changes_.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_19_27__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_1_11_2021_19_27__Changes_.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_2_11_2021_18_13__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_2_11_2021_18_13__Changes_.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_2_11_2021_21_21__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_2_11_2021_21_21__Changes_.xml" afterDir="false" />
+    <list default="true" id="7c5d23fb-c3b3-4585-af16-20b66ae5283b" name="Changes" comment="company change student">
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_4_11_2021_11_37__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_4_11_2021_11_37__Changes_.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_4_11_2021_16_39__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_4_11_2021_16_39__Changes_.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Config/schema.sql" beforeDir="false" afterPath="$PROJECT_DIR$/Config/schema.sql" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/DAO/CompanyDAO.php" beforeDir="false" afterPath="$PROJECT_DIR$/DAO/CompanyDAO.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Views/Admin/list-jobOffer.php" beforeDir="false" afterPath="$PROJECT_DIR$/Views/Admin/list-jobOffer.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Views/Student/list-appointment.php" beforeDir="false" afterPath="$PROJECT_DIR$/Views/Student/list-appointment.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/Views/Student/list-company.php" beforeDir="false" afterPath="$PROJECT_DIR$/Views/Student/list-company.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/controllers/AdminController.php" beforeDir="false" afterPath="$PROJECT_DIR$/controllers/AdminController.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Views/nav.php" beforeDir="false" afterPath="$PROJECT_DIR$/Views/nav.php" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/controllers/StudentMagnamentController.php" beforeDir="false" afterPath="$PROJECT_DIR$/controllers/StudentMagnamentController.php" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
@@ -64,6 +56,9 @@
       <path value="$PROJECT_DIR$" />
     </include_path>
   </component>
+  <component name="ProblemsViewState">
+    <option name="selectedIndex" value="1" />
+  </component>
   <component name="ProjectId" id="1zjzUcjZwn3ON4yMf0Efo2pRmbn" />
   <component name="ProjectViewState">
     <option name="hideEmptyMiddlePackages" value="true" />
@@ -167,6 +162,7 @@
       <workItem from="1635948398605" duration="13669000" />
       <workItem from="1636017644781" duration="5852000" />
       <workItem from="1636047634535" duration="3453000" />
+      <workItem from="1636104382460" duration="2545000" />
     </task>
     <task id="LOCAL-00001" summary="delete finished">
       <created>1634862406373</created>
@@ -327,7 +323,8 @@
     <MESSAGE value="alta de usuario func" />
     <MESSAGE value="apointment list in student" />
     <MESSAGE value="pre entrega" />
-    <option name="LAST_COMMIT_MESSAGE" value="pre entrega" />
+    <MESSAGE value="company change student" />
+    <option name="LAST_COMMIT_MESSAGE" value="company change student" />
   </component>
   <component name="XSLT-Support.FileAssociations.UIState">
     <expand />
Index: controllers/StudentMagnamentController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace Controllers;\r\n\r\nuse DAO\\AppointmentDAO;\r\nuse DAO\\CareerDAO as CareerDAO;\r\nuse DAO\\CompanyDAO;\r\nuse DAO\\JobOfferDAO;\r\nuse DAO\\StudentDAO as StudentDAO;\r\nuse DAO\\UserDAO;\r\nuse Models\\Appointment;\r\nuse Models\\Career as Career;\r\nuse Models\\Student as Student;\r\nuse Models\\User as User;\r\n\r\n\r\nclass StudentMagnamentController\r\n{\r\n\r\n    private $studentDAO;\r\n    private $careerDAO;\r\n    private $userDAO;\r\n\r\n    public function login($email, $password)\r\n    {\r\n        $this->userDAO = UserDAO::getInstance();\r\n        $this->studentDAO = StudentDAO::getInstance();\r\n        $this->careerDAO = CareerDAO::getInstance();\r\n        $std = $this->verifyEmail($email);\r\n\r\n\r\n        if ($std != null) {\r\n\r\n            if ($std->getActive()) {\r\n\r\n\r\n                $std->setCareer($this->careerDAO->searchById($std->getCareer()));\r\n                $user = new User();\r\n                $user = $this->userDAO->searchByStudentId($std->getStudentId());\r\n\r\n\r\n                if ($user != null) {\r\n\r\n                    $_SESSION[\"loggedUser\"] = $std;\r\n                    $message = \"Usuario encontrado\";\r\n                    $this->showHomeStudent($message);\r\n                } else {\r\n                    $message = 'Deberias registrarte';\r\n                    header(\"location:\" . FRONT_ROOT . \"home/index?varMessage=$message\");\r\n                }\r\n            } else {\r\n\r\n                $message = \"Usuario no activo\";\r\n\r\n                header(\"location:\" . FRONT_ROOT . \"home/index?varMessage=$message\");\r\n            }\r\n        } else {\r\n            $user = $this->userDAO->searchByEmail($email);\r\n            if ($user->getAdmin()) {\r\n                if (strcasecmp($user->getPassword(), $password) == 0) {\r\n                    $_SESSION['loggedUser']='admin';\r\n                    header(\"location:\".FRONT_ROOT.\"Admin/showListCompany\");\r\n                } else {\r\n                    $message = \"Contraseña incorrecta\";\r\n                    header(\"location:\" . FRONT_ROOT . \"home/index?varMessage=$message\");\r\n                }\r\n            } else {\r\n                $message = \"Usuario no encontrado\";\r\n                header(\"location:\" . FRONT_ROOT . \"home/index?varMessage=$message\");\r\n            }\r\n        }\r\n    }\r\n\r\n    public\r\n    function verifyEmail($email)\r\n    {\r\n        $this->studentDAO = StudentDAO::getInstance();\r\n\r\n        $std = $this->studentDAO->searchByEmail($email);\r\n        if ($std != null) {\r\n            return $std;\r\n        }\r\n        return null;\r\n    }\r\n    public  function validateSession()\r\n    {\r\n        require_once(VIEWS_PATH . \"Student/Validate-student.php\");\r\n    }\r\n    public\r\n    function showHomeStudent($message = \"\")\r\n    {\r\n     $this->validateSession();\r\n     $student=$_SESSION['loggedUser'];\r\n        require_once(VIEWS_PATH . \"Student/home-student.php\");\r\n    }\r\n\r\n    public\r\n    function showListCompany($name = '')\r\n    {\r\n        $this->validateSession();\r\n        $this->companyDAO = CompanyDAO::getInstance();\r\n\r\n        if (!empty($name)) {\r\n            $companySelected = $this->companyDAO->searchByName($name);\r\n        }\r\n        else{\r\n            unset($companySelected);\r\n        }\r\n\r\n        $companyList = $this->companyDAO->getAll();\r\n        require_once(VIEWS_PATH . \"Student/list-company.php\");\r\n    }\r\n\r\n    public\r\n    function showJobOfferList()\r\n    {\r\n        $this->validateSession();\r\n        $jobOfferDAO=JobOfferDAO::getInstance();\r\n        $jobOfferList=$jobOfferDAO->getAll();\r\n        require_once(VIEWS_PATH . \"student/list-jobOffer.php\");\r\n    }\r\n    public function showAddAppointment($id){\r\n$this->validateSession();\r\n        $studentId=$_SESSION['loggedUser']->getStudentId();\r\n        require_once (VIEWS_PATH.'student/add-appointment.php');\r\n    }\r\n    public function showListAppointment($message=''){\r\n        $this->validateSession();\r\n        $appointment=AppointmentDAO::getInstance();\r\n        $fileList=$appointment-> getAppointmentsBy($_SESSION['loggedUser']->getStudentId());\r\n\r\n        require_once (VIEWS_PATH.\"student/list-Appointment.php\");\r\n    }\r\n\r\n\r\n    public  function  addAppointment($jobOfferId,$studentId,$message){\r\n        $this->validateSession();\r\n        $file=$_FILES['file'];\r\n\r\n        try {\r\n            $appointmentDAO=AppointmentDAO::getInstance();\r\n            \r\n            $fileName = $file[\"name\"];\r\n            $tempFileName = $file[\"tmp_name\"];\r\n            $type = $file[\"type\"];\r\n            $filePath = UPLOADS_PATH.basename($fileName);\r\n            $fileType = strtolower(pathinfo($filePath, PATHINFO_EXTENSION));\r\n            move_uploaded_file($tempFileName,$filePath);\r\n            $a=new Appointment($studentId,$jobOfferId,$filePath,$message);\r\n            $appointmentDAO->add($a);\r\n            $message='Postulacion realizada con exito.';\r\n            header('location:'.FRONT_ROOT.\"StudentMagnament/showListAppointment?varMessage=$message\");\r\n        }\r\n        catch (\\Exception $ex)\r\n        {\r\n            throw $ex;\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/controllers/StudentMagnamentController.php b/controllers/StudentMagnamentController.php
--- a/controllers/StudentMagnamentController.php	
+++ b/controllers/StudentMagnamentController.php	
@@ -99,9 +99,10 @@
     {
         $this->validateSession();
         $this->companyDAO = CompanyDAO::getInstance();
+       $aux= $this->companyDAO->searchByName($name);
+        if ($aux!=null) {
 
-        if (!empty($name)) {
-            $companySelected = $this->companyDAO->searchByName($name);
+        $companySelected = $this->companyDAO->searchByName($name);
         }
         else{
             unset($companySelected);
